<div class="container d-flex justify-content-center">


  <% if @production_module.module_type.present? %>
    <div class="card p-3 rounded w-100 mx-auto" style="max-width: 350px; background-color: white;">
      <h4>Novo MÃ³dulo <%= @production_module.module_type %></h4>
      <%= render "form_#{@production_module.module_type}", production_module: @production_module %>
    </div>
  <% else %>
    <div class="card p-3 border-0 rounded w-100 mx-auto" style="max-width: 350px; background-color: white;">
      <h4 class="text-center mb-4">Escolha um tipo</h4>

      <div class="d-flex flex-wrap gap-3 justify-content-center">
        <% modules = [
          { name: "Animal", type: "animal" },
          { name: "Florestal", type: "forest" },
          { name: "Agricultura", type: "agriculture" }
        ] %>

        <div class="row w-100 justify-content-center">
          <% modules.each do |mod| %>
            <div class="col-6 col-sm-4 col-md-3 mb-4 d-flex justify-content-center">
              <div class="position-relative w-100" style="max-width: 200px; padding-top: 100%;">
                <div class="card position-absolute top-0 start-0 end-0 bottom-0 shadow-sm rounded-3 p-3 d-flex flex-column justify-content-center align-items-center text-center">
                  <i class="bi bi-box fs-2 text-success mb-2"></i>
                  <span class="fw-bold text-dark" style="font-size: 1rem;">
                    <%= link_to mod[:name], new_admin_production_module_path(type: mod[:type]), class: "stretched-link text-decoration-none text-dark" %>
                  </span>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      </div>
  <% end %>
  </div>
</div>
