<div class="card mx-auto border-0 bg-white p-3" style="width: 350px;">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="mb-0">Propriedades</h4>
    <%= link_to new_admin_property_path, class: "btn btn-light border-0" do %>
      <i class="bi bi-plus-lg"></i>
    <% end %>
  </div>

  <% if @properties.any? %>
    <div class="d-flex flex-column gap-3">
      <% @properties.each do |property| %>
        <%= link_to admin_property_path(property), class: "text-decoration-none", data: { turbo: false } do %>
          <div class="card shadow-sm rounded-3 p-3 d-flex flex-column gap-2">

            <div class="d-flex align-items-center gap-2">
              <i class="fas fa-house fs-5 text-success"></i>
              <span class="fw-bold text-dark flex-grow-1 text-truncate" style="font-size: 1.1rem;"><%= property.name %></span>
            </div>

            <div class="d-flex flex-column gap-2">
              <div class="d-flex align-items-center gap-2">
                <i class="fas fa-tractor fs-5 text-success"></i>
                <span class="text-dark">
                  <%= property.animal_productions.count %> Atividades de Produção
                </span>
              </div>

              <div class="d-flex align-items-center gap-2">
                <i class="bi bi-list-task fs-5 text-success"></i>
                <span class="text-dark">
                  <%= property.animal_productions.flat_map(&:tasks).count %> Tarefas
                </span>
              </div>

              <div class="d-flex align-items-center gap-2">
                <i class="bi bi-people fs-5 text-success"></i>
                <span class="text-dark">
                  <%= property.property_accesses.count %> Colaborador(es)
                </span>
              </div>
            </div>

          </div>
        <% end %>
      <% end %>
    </div>
  <% else %>
    <div class="text-center text-muted py-4">
      <p class="fs-5 mb-0">Nenhuma propriedade cadastrada</p>
    </div>
  <% end %>
</div>
