<%= form_with(model: [@task], class: "row g-3", data: { turbo: false }) do |f| %>
  <%= f.hidden_field :animal_production_id, value: @animal_production.id %>

  <% if @task_settings["task_type"] %>
    <div class="col-12">
      <%= f.label :task_type, "Tipo de Tarefa", class: "form-label" %>
      <%= f.text_field :task_type, class: "form-control", placeholder: "Ex: Vacinação, Pesagem, Venda" %>
    </div>
  <% end %>

  <div class="col-12">
    <%= f.label :description, "Descrição", class: "form-label" %>
    <%= f.text_area :description, class: "form-control", rows: 3, placeholder: "Descreva a tarefa com detalhes" %>
  </div>


    <div class="col-12">
      <%= f.label :expense, "Despesa", class: "form-label" %>
      <%= f.text_field :expense, class: "form-control", placeholder: "Houve alguma despesa?" %>
    </div>


  <% if @task_settings["due_date"] %>
    <div class="col-md-6">
      <%= f.label :due_date, "Prazo", class: "form-label" %>
      <%= f.date_field :due_date, class: "form-control" %>
    </div>
  <% end %>

  <% if @task_settings["priority"] %>
    <div class="col-md-6">
      <%= f.label :priority, "Prioridade?", class: "form-label d-block" %>
      <%= f.select :priority, [["Sim", true], ["Não", false]], {}, class: "form-select" %>
    </div>
  <% end %>

  <% if @task_settings["responsible"] %>
    <div class="col-12">
      <%= f.label :responsible, "Responsável", class: "form-label" %>
      <%= f.text_field :responsible, class: "form-control", placeholder: "Nome do colaborador responsável" %>
    </div>
  <% end %>

  <% if @task_settings["uses_supplies"] %>
    <div class="col-12">
    <%= f.label :supply_id, "Insumo", class: "form-label" %>
    <%= f.collection_select :supply_id, @supplies, :id, :name, { prompt: "Selecione um insumo" }, { class: "form-control" } %>
    </div>

    <div class="col-12">
      <%= f.label :supply_quantity, "Quantidade de Insumo", class: "form-label" %>
      <%= f.number_field :supply_quantity, class: "form-control", min: 0 %>
    </div>
  <% end %>


  <% if @task_settings["observation"] %>
    <div class="col-12">
      <%= f.label :observation, "Observações", class: "form-label" %>
      <%= f.text_area :observation, class: "form-control", rows: 3, placeholder: "Informações adicionais sobre a tarefa" %>
    </div>
  <% end %>

  <div class="col-12 d-flex justify-content-between mt-4">
    <a href="javascript:history.back()" class="btn btn-secondary">Voltar</a>
    <%= f.submit "Salvar", class: "btn btn-primary" %>
  </div>
<% end %>
